def main():
    cookies = extract_cookies("cookies.json")

    """Main function to create a session and like a post."""
    cookies = extract_cookies("cookies.json")
    is_logged_in = check_instagram_login(cookies)
    
    if not is_logged_in:
        print(
            """
You are not logged in. Please either.
1) Login using your username and password
2) Stop the program and updated (or created) cookies.json file with valid cookies exported from your browser.
""")
    choice = int(input("Please enter the number of your choice: "))

    if choice == 1:
        username = input("Please enter your Instagram username: ")
        password = input("Please enter your Instagram password: ")
        instagram_login(username = username, password= password)
    else:
        print("Please re-run the program after updating the cookies.json file with valid cookies")
        return 0

    session = create_instagram_session(cookies)
    fetch_instagram_data()
    if not session:
        return

    print(
        """
Hello! I can do two things for you:
1) Like a post using its URL (e.g., https://www.instagram.com/p/DFkx8PAJOX0/)
2) Like the latest post from a page using its username (e.g., "nike")
3) Reply the topest comment of a post using its URL (e.g., https://www.instagram.com/p/DFkx8PAJOX0/)
4) Reply the topest comment of the latest post from a page using its username (e.g., "nike")
"""
    )

    try:
        choice = int(input("Please enter the number of your choice: "))
    except ValueError:
        logging.error("‚ùå Invalid input. Please enter 1 or 2.")
        return

    if choice == 1:
        post_url = input("Enter the post URL: ")
        shortcode = extract_shortcode(post_url)
        media_id = from_shortcode(shortcode) if shortcode else None

        if media_id:
            success, response = like_post(session, media_id)
            if success:
                logging.info(f"üéâ Successfully liked post {media_id}")
            else:
                logging.error(f"‚ùå Failed to like post {media_id}. Reason: {response}")

    elif choice == 2:
        page_name = input("Enter the username of the page: ")
        media_id = get_latest_post_media_id(session, page_name)
        if media_id:
            print("In proccess")
            success, response = like_post(session, media_id)
            if success:
                logging.info(f"üéâ Successfully liked the latest post from {page_name}")
            else:
                logging.error(f"‚ùå Failed to like post from {page_name}. Reason: {response}")

    elif choice == 3:
        post_url = input("Enter the post URL: ")
        shortcode = extract_shortcode(post_url)
        media_id = from_shortcode(shortcode) if shortcode else None
        get_instagram_comments(media_id)
        print_first_comment_details_and_reply(media_id=media_id)

    elif choice == 4:
        page_name = input("Enter the username of the page: ")
        media_id = get_latest_post_media_id(session, page_name) 
        get_instagram_comments(media_id)
        print_first_comment_details_and_reply(media_id=media_id)